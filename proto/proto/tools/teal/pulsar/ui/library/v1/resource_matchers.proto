syntax = "proto3";

package tools.teal.pulsar.ui.library.v1;

message ExactTenantMatcher {
  string tenant = 1;
}

message AllTenantMatcher {}

message TenantMatcher {
  oneof matcher {
    ExactTenantMatcher exact = 1;
    AllTenantMatcher all = 2;
  }
}

message ExactNamespaceMatcher {
  TenantMatcher tenant = 1;
  string namespace = 2;
}

message AllNamespaceMatcher {
  TenantMatcher tenant = 1;
  string namespace_regex = 2;
}

message NamespaceMatcher {
  oneof matcher {
    ExactNamespaceMatcher exact = 1;
    AllNamespaceMatcher all = 2;
  }
}

message ExactTopicMatcher {
  NamespaceMatcher namespace = 1;
  string topic = 2;
}

message AllTopicMatcher {
  NamespaceMatcher namespace = 1;
}

message TopicMatcher {
  oneof matcher {
    ExactTopicMatcher exact = 1;
    AllTopicMatcher all = 2;
  }
}

message ResourceMatcher {
  oneof matcher {
    TenantMatcher tenant = 1;
    NamespaceMatcher namespace = 2;
    TopicMatcher topic = 3;
  }
}
